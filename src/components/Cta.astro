---
const defaultContent = {
  title: "さあ、あなたのビジネスの本当の価値を、\nWebサイトで日本のファンに届けませんか？",
  subtitle: "私たちが、言葉や文化、デジタルの壁を越えるお手伝いをします。",
  buttonText: "プランを選ぶ",
  notice: "お問い合わせはフォームから送信後、返信いたします。無理な営業は一切いたしません。"
};
// contentが渡されない場合は、defaultContentを使用するように修正
const { id, content = defaultContent } = Astro.props;
const { pathname } = Astro.url;
const lang = pathname.split('/')[1];
const supportedLangs = ['en', 'th', 'zh'];
const currentLang = supportedLangs.find((code) => code === lang);
const priceLink = content?.buttonLink ?? (currentLang ? `/${currentLang}/price` : '/price');
const infoCards = Array.isArray(content?.infoCards)
  ? content.infoCards
  : [
      { label: 'Languages', value: '日本語 / English / 中文 / ภาษาไทย' },
      { label: 'Response', value: '24時間以内に専門チームがご連絡' },
      { label: 'Next Step', value: 'チャットまたはメールでヒアリング' },
    ];
---

<section
  id={id}
  class="relative overflow-hidden bg-neutral-950 py-24 sm:py-28 lg:py-32 text-base-100"
  data-dark-section
>
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute left-1/3 top-0 h-72 w-72 rounded-full bg-primary/30 blur-[150px]"></div>
    <div class="absolute right-1/4 bottom-0 h-[320px] w-[320px] rounded-full bg-secondary/30 blur-[160px]"></div>
    <div class="absolute inset-0 bg-[linear-gradient(135deg,_rgba(255,255,255,0.08)_0%,_rgba(255,255,255,0)_55%)]"></div>
  </div>

  <div class="relative mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
    <div class="overflow-hidden rounded-[3rem] border border-white/15 bg-white/10 p-8 shadow-strong backdrop-blur-2xl sm:p-12 lg:p-16">
      <div class="space-y-10 text-center">
        <div class="space-y-6">
          <div class="inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/15 px-4 py-2 text-xs font-semibold uppercase tracking-[0.36em] text-primary-100">
            Start Your Launch
          </div>
          <h2 class="text-4xl font-bold leading-tight tracking-tight text-white sm:text-5xl lg:text-6xl whitespace-pre-line">
            {content.title}
          </h2>
          <p class="text-lg leading-relaxed text-white/70 sm:text-xl">
            {content.subtitle}
          </p>
        </div>

        <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-center">
          <a
            href={priceLink}
            class="inline-flex items-center justify-between gap-4 rounded-2xl bg-white px-8 py-4 text-base font-semibold uppercase tracking-[0.32em] text-primary-700 shadow-glow transition duration-300 hover:shadow-strong"
          >
            {content.buttonText}
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
          <div class="rounded-2xl border border-white/15 bg-white/10 px-6 py-4 text-sm text-white/70 shadow-subtle">
            <div class="flex items-center gap-3">
              <svg class="h-5 w-5 text-primary-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>{content.notice}</span>
            </div>
          </div>
        </div>

        <div class="grid gap-4 text-sm text-white/70 sm:grid-cols-3">
          {infoCards.map((card) => (
            <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
              <p class="text-xs uppercase tracking-[0.3em] text-primary-200">{card.label}</p>
              <p class="mt-2 font-semibold">{card.value}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>
